<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyD9cvCCkfmIIH8yZxvcNPGWrL9Bq_Ih7Ao",
        authDomain: "flyforyou-5a651.firebaseapp.com",
        databaseURL: "https://flyforyou-5a651.firebaseio.com",
        projectId: "flyforyou-5a651",
        storageBucket: "flyforyou-5a651.appspot.com",
        messagingSenderId: "716627781087"
      };
      firebase.initializeApp(config);
    </script>
    <title>Destinations</title>
    <link rel="stylesheet" href="Destination.css">
  </head>
  <body>
    <header>
      <nav>
        <a id="logo" href="#">FlyForYou</a>
        <nav>
          <ul>
            <li><a href="index2.html" id="current">Home</a></li>
            <li><a href="Book.html">Book</a></li>
            <li><a href="Destination.html">Destinations</a></li>\
            <li><a href="Flight.html">Flights</a></li>
            <li><a href="About us.html">About us</a></li>
          </ul>
        </nav>
      </nav>
    </header>

    <main>
      <button type="button" name="button" onclick="visLandEuropa()">Europe</button>
      <button type="button" name="button" onclick="visLandAsia()">Asia</button>
      <button type="button" name="button" onclick="visLandAfrica()">Africa</button>
      <button type="button" name="button" onclick="visLandAmerica()">America</button>
      <button type="button" name="button" onclick="visLandOceania()">Oceanias</button>

      <section id="secDestination">
      </section>
    </main>

    <script type="text/javascript">
    //Referanser til firebase-databasens
    const secAlleDestination= document.querySelector("#secDestination")

    const db= firebase.database();
    const destination=db.ref("destination");

    visAlleDestnination();//Kj√∏rer funskjonen visAlleDestnination.

    function visAlleDestnination(){
      secAlleDestination.innerHTML=``;
      destination.on("child_added",genererHTML);
    }
    function visLandEuropa(){
      secAlleDestination.innerHTML``;
      destination.orderByChild("Europe")
      .on("child_added",genererHTML);
    }
    function visLandAsia(){
      secAlleDestination.innerHTML``;
      destination.orderByChild("Asia")
      .on("child_added",genererHTML);
    }
    function visLandAmerica(){
      secAlleDestination.innerHTML``;
      destination.orderByChild("America")
      .on("child_added",genererHTML);
    }
    function visLandOceania(){
      secAlleDestination.innerHTML``;
      destination.orderByChild("Oceania")
      .on("child_added",genererHTML);
    }
    function visLandAfrica(){
      secAlleDestination.innerHTML``;
      destination.orderByChild("Africa")
      .on("child_added",genererHTML);
    }

    function genererHTML(snapshot){
      let key = snapshot.key;
      let poke = snapshot.val();
      console.log(poke);
      secAlleDestination.innerHTML+=`
      <section class="destination">
        <h3>${key}:${des["destination"]}</h3>
        <p>Europe: ${poke["Europe"]}</p>
        <p>America: ${poke["America"]}</p>
        <p>Africa: ${poke["Africa"]}</p>
        <p>Asia: ${poke["Asia"]}</p>
      </section>
      `
    }

    </script>
    <footer>
    </footer>
  </body>
</html>
